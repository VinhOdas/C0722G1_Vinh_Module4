<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
</head>
<body>
<table class="table table-light table-striped table-bordered">
    <tr class="table-dark text-light">
        <th class="text-center"><i class="fa-sharp fa-solid fa-bolt"></i></th>
        <th>Service</th>
        <th>Employee</th>
        <th>Customer</th>
        <th>Date Start</th>
        <th>Date End</th>
        <th>Deposit</th>
        <th>Total Money</th>
        <th class="text-center">Attach Facilities</th>
    </tr>
    <tr th:each="data, stt: ${contractList}">
        <td th:text="${stt.count}"></td>
        <td th:text="${data.getFacilityName()}"></td>
        <td th:text="${data.getEmployeeName()}"></td>
        <td th:text="${data.getCustomerName()}"></td>
        <td th:text="${data.getStartDate()}"></td>
        <td th:text="${data.getEndDate()}"></td>
        <td th:text="${ data.getDeposit() + 'đ'}"></td>
        <td th:text="${ data.getTotal() + 'đ'}"></td>
        <td class="text-center">
            <button style="margin-left: 5px" th:attr="onclick=|addContractdetail('${data.getId()}')|"
                    class="btn btn-primary btn-outline-secondary btn-sm" data-bs-toggle="modal"
                    data-bs-target="#addContractdetail">
                <span class="fa-solid fa-plus text-light h6 m-auto"></span>
            </button>

            <button class="btn btn-primary btn-outline-secondary btn-sm ms-3 px-3"
                    th:attr="onclick=|showAttachDetail('${data.getId()}')|" data-bs-toggle="modal"
                    data-bs-target="#showAttachDetail">
                <span class="text-light m-auto">List Attach  </span>
            </button>
        </td>
    </tr>



</table>
<nav aria-label="..." class="justify-content-center d-flex">
    <ul class="pagination">
        <li class="page-item">
            <a class="page-link" th:href="@{'/contracts'(page=${contractList.number - 1})}"
               th:if="${contractList.hasPrevious()}">&laquo;</a>
        </li>
        <li class="page-item disabled" th:unless="${contractList.hasPrevious()}">
            <a class="page-link">&laquo;</a>
        </li>

        <li class="page-item"><a class="page-link" th:href="@{'/contracts'(page=${contractList.number - 1})}"
                                 th:if="${contractList.hasPrevious()}" th:text="${contractList.number}"></a>
        </li>

        <li class="page-item active">
            <a class="page-link" th:href="@{'/contracts'(page=${contractList.number})}"
               th:text="${contractList.number + 1}"><span class="sr-only">(trang hiện tại)</span></a>
        </li>

        <li class="page-item"><a class="page-link" th:href="@{'/contracts'(page=${contractList.number + 1})}"
                                 th:if="${contractList.hasNext()}" th:text="${contractList.number + 2}"></a>
        </li>

        <li class="page-item">
            <a class="page-link" th:href="@{'/contracts'(page=${contractList.number + 1})}"
               th:if="${contractList.hasNext()}">&raquo;</a>
        </li>
        <li class="page-item disabled" th:unless="${contractList.hasNext()}">
            <a class="page-link">&raquo;</a>
        </li>
    </ul>
</nav>
</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous">
</script>
<script>

    $(document).ready(function(){
        // $('#addContract').modal({backdrop: 'static', keyboard: false})
        // $('#addContractdetail').modal({backdrop: 'static', keyboard: false})
        let checkStartDay = $('#checkStartDay').val();
        let checkEndDay = $('#checkEndDay').val();
        let checkFacilty = $('#checkFacilty').val();
        let chechEmployee = $('#chechEmployee').val();
        let checkCustomer = $('#checkCustomer').val();
        let checkDeposit = $('#checkDeposit').val();
        let checkQuantity = $('#checkQuantity').val();
        if(checkStartDay === "startday" || checkEndDay === "endday"|| checkFacilty==="facility"||chechEmployee==="employee"||checkCustomer==="customer"||checkDeposit==="deposit") {
            $('#addContract').modal('show');
        }
        if(checkQuantity==="quantity"){
            $('#addContractdetail').modal('show');
        }
</html>